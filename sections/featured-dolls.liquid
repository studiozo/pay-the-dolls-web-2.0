{%- comment -%}
  Featured DØLLs Section
  Creator showcase with placeholder for vendor storefronts
{%- endcomment -%}

<section class="section">
  <div class="section-header">
    <h2 class="section-title">Featured DØLLs</h2>
    <p class="section-subtitle">CREATORS BUILDING THE FUTURE</p>
  </div>
  
  {%- if section.blocks.size > 0 -%}
    <div class="grid grid--3 grid--auto">
      {%- for block in section.blocks -%}
        <a href="{{ block.settings.link | default: '#' }}" class="card card--accent-top">
          {%- if block.settings.image != blank -%}
            <img 
              src="{{ block.settings.image | image_url: width: 400 }}" 
              alt="{{ block.settings.name }}"
              loading="lazy"
              style="width: 100%; height: 200px; object-fit: cover; margin-bottom: var(--space-m); border-radius: var(--radius-md);"
            >
          {%- endif -%}
          <h3 class="card__title">{{ block.settings.name }}</h3>
          <p class="card__text text-small text-muted mb-s">{{ block.settings.pronouns }} · {{ block.settings.location }}</p>
          <p class="card__text">{{ block.settings.bio }}</p>
          {%- if block.settings.categories != blank -%}
            <div class="mt-m">
              {%- assign cats = block.settings.categories | split: ',' -%}
              {%- for cat in cats -%}
                <span class="badge" style="margin-right: 8px; margin-bottom: 8px;">{{ cat | strip }}</span>
              {%- endfor -%}
            </div>
          {%- endif -%}
        </a>
      {%- endfor -%}
    </div>
  {%- else -%}
    {%- comment -%} Placeholder content {%- endcomment -%}
    <div class="text-center" style="padding: var(--space-xxl);">
      <h3 style="font-size: 28px; margin-bottom: var(--space-m);">THE DØLLS ARE COOKING.</h3>
      <p class="text-large text-muted" style="max-width: 400px; margin: 0 auto var(--space-l);">Nothing here yet, babe — the dolls are still in the lab</p>
      <a href="/pages/become-a-doll" class="btn btn--secondary">Become a DØLL</a>
    </div>
  {%- endif -%}
</section>

{% schema %}
{
  "name": "Featured DØLLs",
  "settings": [],
  "blocks": [
    {
      "type": "doll",
      "name": "DØLL",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Photo"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name",
          "default": "DØLL Name"
        },
        {
          "type": "text",
          "id": "pronouns",
          "label": "Pronouns",
          "default": "they/them"
        },
        {
          "type": "text",
          "id": "location",
          "label": "Location",
          "default": "Brooklyn, NY"
        },
        {
          "type": "textarea",
          "id": "bio",
          "label": "Bio",
          "default": "A short bio about this creator and their work."
        },
        {
          "type": "text",
          "id": "categories",
          "label": "Categories (comma separated)",
          "default": "Art, Music"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Storefront Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Featured DØLLs"
    }
  ]
}
{% endschema %}
